<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>Insurance Recommendation</title>
</head>
<body>

<div class="container">
    <h1>Your Recommended Car Insurance</h1>
    
    <div class="result">
        <h3>Your Recommended Insurance Type:</h3>
        <p>Your recommended insurance coverage type is: <span id="insuranceType">Loading...</span></p>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // Retrieve the recommendation from localStorage
    const insuranceType = localStorage.getItem("insuranceRecommendation");

    // Log the retrieved value for debugging
    console.log("Insurance Recommendation retrieved from localStorage:", insuranceType);

    // Get the element where the recommendation will be displayed
    const insuranceElement = document.getElementById("insuranceType");
    const resultElement = document.querySelector(".result"); // Get the result container
    let recommendationText = "";
    let description = "";
    switch (insuranceType) {
        case "Collision":
            recommendationText = "Collision Coverage";
            description = "Collision coverage helps pay to repair or replace your vehicle if it overturns or collides with another vehicle or object.";
            break;
        case "Comprehensive":
            recommendationText = "Comprehensive Coverage";
            description = "Comprehensive coverage helps pay to repair or replace your vehicle if it's damaged by something other than a collision, including theft, fire, vandalism, or hitting an animal.";
            break;
        case "Liability":
            recommendationText = "Liability Coverage";
            description = "Liability coverage pays another party's medical expenses, vehicle repairs, and property damage if you were responsible for the accident.";
            break;
        case "Uninsured":
            recommendationText = "Uninsured & Underinsured Motorist Coverage";
            description = "This coverage helps pay for medical expenses, pain and suffering, and lost wages if you're hit by someone who doesnâ€™t have enough insurance or none at all.";
            break;
        case "Medical":
            recommendationText = "Medical Payments Coverage";
            description = "Medical payments coverage helps pay medical and funeral expenses if an insured person is injured or killed in an accident.";
            break;
        case "Roadside":
            recommendationText = "Emergency Road Service Coverage";
            description = "This helps you get back on the road quickly by covering the cost of towing, flat tire changes, and other roadside repairs.";
            break;
        case "Rental":
            recommendationText = "Car Rental Reimbursement Coverage";
            description = "Rental car reimbursement coverage helps pay for a rental car while your car is being repaired after an accident.";
            break;
    }

    // Ensure the element exists before updating it
    if (insuranceElement) {
        if (insuranceType) {
            // If a recommendation was retrieved, set the text
            console.log("Setting insuranceType to:", insuranceType);  // Log the value being set
            insuranceElement.innerHTML = `<strong>${recommendationText}</strong> /n ${description}`;

            // Make the result container visible by changing its display property
            if (resultElement) {
                resultElement.style.display = "block";
            }
        } else {
            // If no recommendation was found, display a default message
            insuranceElement.innerText = "No recommendation available";

            // Make sure the result container is visible even if there's no recommendation
            if (resultElement) {
                resultElement.style.display = "block";
            }
        }
    } else {
        // If the element doesn't exist, log an error
        console.error("Element with id 'insuranceType' not found");
    }
});

</script>

<!-- Add the confetti script just before closing the body tag -->
<script src="https://run.confettipage.com/here.js" data-confetticode="U2FsdGVkX1+TcgoRlJAV/Z6FeDRkZZRswNwHXufWM40yKV3v9bsnILbYwiqO0ExmsDxmhbgNsqfX0os2ZGIxqIQT8JX7owXsVsOPgeQaN/Tz/1d+ciaKnVtQXa7jcWFnZy6y/dPS3GwR1vRDaycO2UHmoFnf6gH+rGKIJy/1qEEIA3GoyXRa12DDj8HpPJ8Ihd5HBBcwWzQUnwc6pY/ihyxc5AWPGlsXtSqFy+xSBEw7W0IOYHBkj0EBgzQ/ZcBjmMBTsOgX9v+yMocrkt134FC537Vq+4O4gVc1E24a5zf6SDqdn2rsq/NSf1Oc9GUcsaKb3q+Gnao0L0RM2I4E4L0IO5zhlc58ji2ummcVl9MFVoS/Y1dJJDkKRnntDWaHTD21nILPUuAT2sRVQUaadVNR1mTPzeaFlWsGmvbDyUEFYFtPnpHGTpkAd1gYibeiF1tlqy4bXKaxkMgaTKv244To6pOZTkO+Wz1HFqtqbx9jgmEbUhADJp78dULkInD7uhMowmGBU9JzL+9eWZpDxk/H3/BSnTJDeyyHDQXWCZxvEORpofXx0H/ucZP3TOawUq6CsZp863U4sRnxlxGXz5z7yDV9JtaufOI/b4V2hjtIj8LCf62ee7WfJyBRnzJY5E1bAlciELjThkWqDQNS6eEhXvbNV0/I//CI7Ut3Zr1f/z8LnLya24My6Ucrikm4R91jh4h3mP9g52M+3vgAIJOdc4Y2a9jHIf4N8eYt35h/jMLN+h3BtQ82k0zw2Wdx18/B03gmejxtH3+TWPI3jNfrck67lfTi/f4e54bhTYoiOyjX5Nd/oTJV8o+NEGqJiYMa2Qow9bYieqI1wbSZm4W6v1WD0UUm10LC3bM+l10FqMLq+CxDjWS6r4DqqkeA0Y7Gna7DhTe+Dmx2/ckHtxRUvTKxY+XjHhAkZrfasqudb2/xO4G2lGQVlUzTU/30cjnOqsdmv6f7t/woaFYnwO0F5fI/34bKvLemyedkzFXHRO0sJwNZsuxJLDdtad16jr5tVDZ88ebjb0h9M5nTSLPpYo8+/HtbGnPBIA2K+lk="></script>

<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>Insurance Recommendation</title>
</head>
<body>

<div class="container">
    <h1>Your Recommended Car Insurance</h1>
    
    <div class="result">
        <h3>Your Recommended Insurance Type:</h3>
        <p>Your recommended insurance coverage type is: <span id="insuranceType">Loading...</span></p>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // Retrieve the recommendation from localStorage
    const insuranceType = localStorage.getItem("insuranceRecommendation");

    // Log the retrieved value for debugging
    console.log("Insurance Recommendation retrieved from localStorage:", insuranceType);

    // Get the element where the recommendation will be displayed
    const insuranceElement = document.getElementById("insuranceType");
    const resultElement = document.querySelector(".result"); // Get the result container

    // Ensure the element exists before updating it
    if (insuranceElement) {
        if (insuranceType) {
            // If a recommendation was retrieved, set the text
            console.log("Setting insuranceType to:", insuranceType);  // Log the value being set
            insuranceElement.innerText = insuranceType;

            // Make the result container visible by changing its display property
            if (resultElement) {
                resultElement.style.display = "block";
            }
        } else {
            // If no recommendation was found, display a default message
            insuranceElement.innerText = "No recommendation available";

            // Make sure the result container is visible even if there's no recommendation
            if (resultElement) {
                resultElement.style.display = "block";
            }
        }
    } else {
        // If the element doesn't exist, log an error
        console.error("Element with id 'insuranceType' not found");
    }
});

</script>

<!-- Add the confetti script just before closing the body tag -->
<script src="https://run.confettipage.com/here.js" data-confetticode="U2FsdGVkX19GiAMiq92llLgBVLqddHO73Us9OimUz9CCx0w7weHHz0XtdjJQUiI5fHY9kONOmTxdivJB6YJxJ6pwLi1KC3QqXCq8CDC8kFUk1vY/G4BenYqXVzRa2U5t9Ej+iH2IHA1RFQmKqt1GG2GR/gkoWygFDGn9Hmb86dBJ0n7PyGKffSC4xBy16I/M9uXQThJFJgSX4TkVJrj7Mmg5lT6tor8KMNKxOIYXEBoMSHdM0Tyx23NBBzS74vTeKKAWrT+PWLzm0q4snb87iZxPodl2HmB2BaNmeuu08M/j6dEMloI9o0a/gIZHFflbAC/aaiDx4uEks1YINjPjzJ/ESaShe1njEyCfzbcZCdBM+yvvfL85lKzpnVlj0Vd7FbQe2XivgX33kKlUUB4Lq6QFqMT2WIttt+IcivsVGRHYRIKTBMSYoVr03ocetelqBMWi7"
